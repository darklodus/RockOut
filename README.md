# RockOut

RockOut is a real-time, software-based audio equalizer for Windows, built with .NET 9 and WPF. It captures system audio, processes it through configurable DSP filters, and outputs the modified stream back to the audio subsystem.

## Features
- Real-time audio capture and playback using WASAPI/NAudio
- Configurable DSP engine with multiple filter types (low-pass, high-pass, band-pass, notch, shelf, peaking)
- WPF UI with MVVM pattern and interactive EQ sliders
- Preset management (load/save JSON presets)
- Structured logging with Serilog

## Build & Run Instructions
1. **Requirements:**
   - .NET 9 SDK
   - Visual Studio 2022 or later
2. **Clone the repository:**
   ```sh
   git clone <your-repo-url>
   cd RockOut
   ```
3. **Restore dependencies:**
   ```sh
   dotnet restore
   ```
4. **Build the solution:**
   ```sh
   dotnet build
   ```
5. **Run the UI application:**
   ```sh
   dotnet run --project RockOut.UI
   ```

## API Usage (RockOut.Core)
- See public interfaces: `IAudioCapture`, `IAudioPlayback`, `IMonoFilter`, `DspEngineService`, `PresetManager`.
- Example: Creating and applying a preset
   ```csharp
   var preset = DefaultPresets.Rock;
   var dsp = new DspEngineService();
   foreach (var band in preset.Bands)
   {
       var filter = new BiquadFilter();
       filter.SetParameters(band.F0, band.Q, band.Gain, FilterType.Peaking);
       dsp.FilterChain.AddFilter(filter);
   }
   // Process audio buffer
   dsp.ProcessBuffer(buffer);
   ```

## Preset Example
```json
{
  "name": "Rock",
  "bands": [
    { "f0": 60, "gain": 5, "Q": 1 },
    { "f0": 170, "gain": 4, "Q": 1 },
    { "f0": 310, "gain": 3, "Q": 1 }
  ]
}
```

## Advanced Usage

- You can create custom presets by editing JSON files and loading them via the UI.
- For troubleshooting, check the log files generated by Serilog in the application directory.
- UI automation tests can be implemented using FlaUI or WinAppDriver (see RockOut.Tests for test stubs).
- For MSIX packaging and installation, see the MSIX project and follow Visual Studio's packaging workflow.

## Installation Steps

1. Build the solution in Release mode.
2. Open the MSIX packaging project (RockOut.UI.Package.msix) in Visual Studio.
3. Configure app identity, logo, and capabilities as needed.
4. Build the MSIX package.
5. Install the package by double-clicking the .msix file or using PowerShell:
   ```powershell
   Add-AppxPackage .\RockOut.UI.Package.msix
   ```
6. For Microsoft Store submission, follow the compliance and submission steps in the Microsoft Partner Center.

## Version Information

- Version: 1.0.0 (update as needed)
- .NET 9, WPF, NAudio, Serilog

## Microsoft Store Submission

- Register a developer account and reserve your app name.
- Complete the Microsoft Store compliance checklist (privacy, accessibility, etc.).
- Submit the MSIX package via Partner Center.

## UI Automation

- UI automation tests can be added in RockOut.Tests using FlaUI or similar frameworks.
- Example: Launch RockOut.UI, simulate slider changes, and verify audio output or UI state.

## Future Enhancements

- System-wide APO driver (requires C++/WinRT, WDK; see CodingTasks.md for details).
- VST plugin wrapper (requires C++/CLI or native C++).
- Cross-platform support (Linux/macOS) via .NET MAUI or other audio libraries.

## Screenshots

- [Add screenshots or GIFs of the UI here]

## Troubleshooting

- If audio does not play, ensure your audio device supports WASAPI loopback.
- Check log files for errors.
- For further help, open an issue on GitHub.

## Human Intervention Required
- Expand documentation for advanced usage, troubleshooting, and UI automation.
- Add screenshots and GIFs of the UI.
- Update version information and installation steps after packaging.
- Document Microsoft Store submission process and compliance steps.
